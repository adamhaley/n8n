{
  "createdAt": "2025-09-06T22:34:16.045Z",
  "updatedAt": "2025-09-06T23:07:06.000Z",
  "id": "gK2bghMVHpes2pOk",
  "name": "Runpod/ComfyUI",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -480,
        -64
      ],
      "id": "d5b778e4-b7a2-4e2a-a7b5-614ba3f31b70",
      "name": "When clicking ‘Execute workflow’"
    },
    {
      "parameters": {
        "content": "## R & D on ComfyUI / Runpod Integration\n",
        "height": 544,
        "width": 1440,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -528,
        -144
      ],
      "id": "0fcf2fce-31c0-44a0-bb0c-c4537f38e6ed",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://rest.runpod.io/v1/pods",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer <token>"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"allowedCudaVersions\": [\n    \"12.8\"\n  ],\n  \"cloudType\": \"SECURE\",\n  \"computeType\": \"GPU\",\n  \"containerDiskInGb\": 50,\n  \"containerRegistryAuthId\": \"clzdaifot0001l90809257ynb\",\n  \"countryCodes\": [\n    \"<string>\"\n  ],\n  \"cpuFlavorIds\": [\n    \"cpu3c\"\n  ],\n  \"cpuFlavorPriority\": \"availability\",\n  \"dataCenterIds\": [\n    \"EU-RO-1\",\n    \"CA-MTL-1\"\n  ],\n  \"dataCenterPriority\": \"availability\",\n  \"dockerEntrypoint\": [],\n  \"dockerStartCmd\": [],\n  \"env\": {\n    \"ENV_VAR\": \"value\"\n  },\n  \"globalNetworking\": true,\n  \"gpuCount\": 1,\n  \"gpuTypeIds\": [\n    \"NVIDIA GeForce RTX 4090\"\n  ],\n  \"gpuTypePriority\": \"availability\",\n  \"imageName\": \"runpod/pytorch:2.1.0-py3.10-cuda11.8.0-devel-ubuntu22.04\",\n  \"interruptible\": false,\n  \"locked\": false,\n  \"minDiskBandwidthMBps\": 123,\n  \"minDownloadMbps\": 123,\n  \"minRAMPerGPU\": 8,\n  \"minUploadMbps\": 123,\n  \"minVCPUPerGPU\": 2,\n  \"name\": \"my pod\",\n  \"networkVolumeId\": \"<string>\",\n  \"ports\": [\n    \"8888/http\",\n    \"22/tcp\"\n  ],\n  \"supportPublicIp\": true,\n  \"templateId\": null,\n  \"vcpuCount\": 2,\n  \"volumeInGb\": 20,\n  \"volumeMountPath\": \"/workspace\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        608,
        -64
      ],
      "id": "f5324da6-ae9a-42d2-ae68-8ead29aaa035",
      "name": "Create POD"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://rest.runpod.io/v1/pods/{podId}/start",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer <token>"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -416,
        192
      ],
      "id": "e77e9526-7be8-4f32-8898-c4dbf3e5b174",
      "name": "Start POD"
    },
    {
      "parameters": {
        "url": "https://rest.runpod.io/v1/templates/{templateId}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer <token>"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -240,
        -64
      ],
      "id": "a96949fd-3f7b-4710-88af-ed39c5f324ae",
      "name": "Find Template By ID"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://rest.runpod.io/v1/pods/{podId}/stop",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer <token>"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1088,
        64
      ],
      "id": "5537d070-dd37-40c2-b0ac-11a2f5d6e691",
      "name": "Stop POD"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-comfyui.comfyui",
      "typeVersion": 1,
      "position": [
        144,
        192
      ],
      "id": "4a18e08c-1107-4ff8-8da4-b6409b4ce6df",
      "name": "ComfyUI"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        352,
        192
      ],
      "id": "a20f272a-0a68-4cbe-b44d-577a56788373",
      "name": "Wait",
      "webhookId": "41478ddf-1d19-4c0e-ab50-daa5150f9abf"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        560,
        192
      ],
      "id": "1e0238ec-c12d-4511-9bce-888162091122",
      "name": "Check Done"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "f10acb4a-00eb-4c80-99b4-43720b47d28b",
              "leftValue": "",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        768,
        192
      ],
      "id": "c756e9b7-b826-4473-a1d5-b85bb1fa32a0",
      "name": "If Done"
    }
  ],
  "connections": {
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Find Template By ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create POD": {
      "main": [
        [
          {
            "node": "Start POD",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Find Template By ID": {
      "main": [
        [
          {
            "node": "Create POD",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Start POD": {
      "main": [
        [
          {
            "node": "ComfyUI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ComfyUI": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Check Done",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check Done": {
      "main": [
        [
          {
            "node": "If Done",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If Done": {
      "main": [
        [
          {
            "node": "Stop POD",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": null,
  "pinData": {},
  "versionId": "d35beb0f-33ad-4762-8875-cf984573b75b",
  "triggerCount": 0,
  "shared": [
    {
      "createdAt": "2025-09-06T22:34:16.050Z",
      "updatedAt": "2025-09-06T22:34:16.050Z",
      "role": "workflow:owner",
      "workflowId": "gK2bghMVHpes2pOk",
      "projectId": "nZwUmEIL638ig6xE"
    }
  ],
  "tags": []
}